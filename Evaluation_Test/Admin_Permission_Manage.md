# 系统管理员不同权限的层级管理

|用例编号|操作|预期结果|实际结果|备注|
|--------|----|--------|--------|----|
|50|为存储域分配存储管理角色<br/><br/>1.  在OVIRT管理平台树形面板先点击【展开所有】（按键，在默认的数据中心下的默认集群，点击【存储】，<br/>    在*存储*将展现出所有的存储域。）<br/><br/>2.  选择您要为用户*tangyan*分配权限的存储域，选择子选项卡*权限*。<br/>    本实验采用的例子存储域名叫*local\_iso*。<br/><br/>3.  点击*添加* 按钮，*为用户添加权限*对话框会弹出，在*搜<br/>    索*文本框中输入*tangyan*,然后点击*执行*按钮。<br/><br/>4.  选中搜索结果中的*tangyan*，在*要分配的角色*下拉列表框中选择<br/>    *StorageAdmin*。<br/><br/>5.  点击*确认*，用户的信息（头像、用户以及角色）等会自动显示在*权限*<br/>    这项中。<br/><br/>|为*tangyan*成功赋予*StorageAdmin*角色。|||
|51|虚拟机管理员<br/><br/>1.  在OVIRT管理平台树形面板先点击【展开所有】（按键，在默认的数据中心下的默认集群，点击【虚拟机】，<br/>    在*虚拟机*项下将展现出所有的虚拟机。）<br/><br/>2.  选择要赋予某用户的虚拟机，然后点击下方*权限*的细节面板，此例选择的虚拟机叫做*Publican*。<br/><br/>3.  点击*添加* 按钮，*为用户添加权限*对话框会弹出，在*搜<br/>    索*文本框中输入*tangyan*,然后点击*执行*按钮。<br/><br/>4.  选中搜索结果中的*tangyan*，在*要分配的角色*下拉列表框中选择<br/>    *PowerUserRole*。<br/><br/>5.  点击*确认*，用户的信息（头像、用户以及角色）等会自动显示在*权限*<br/>    这项中。<br/><br/>|成功为用户*tangyan*赋予虚拟机*Publican*为*PowerUserRole*角色。|||
|52|存储管理角色的权限验证，前提条件：使用*tangyan*登录。<br/><br/>1.  在OVIRT管理平台树形面板先点击【展开所有】（按键，在默认的数据中心下的默认集群，点击【存储】，<br/>    在*存储*将展现出所有的存储域。）<br/><br/>2.  选中*local\_iso*,在细节项中，选中*数据中心*，并点击*维护*按钮，此时ISO域的状态为*Inactive*。<br/><br/>3.  再次选中ISO域，在细节项中，选中*数据中心*，并点击*激活*按钮，此时ISO域的状态为*active*。<br/><br/>|存储域*local\_iso*是可以操作的。|||
|53|存储管理角色的权限验证，前提条件：使用*tangyan*登录。<br/><br/>1.  在OVIRT管理平台树形面板先点击【展开所有】（按键，在默认的数据中心下的默认集群，点击【存储】，<br/>    在*存储*将展现出所有的存储域。）<br/><br/>2.  选中*local\_iso*,在细节项中，选中*数据中心*，并点击*维护*按钮，此时ISO域的状态为*Inactive*。<br/><br/>3.  选中数据存储域，在细节项中，选中*数据中心*下数据存储域之一（数据存储域不是只有一个），并点击*维护*按钮，<br/><br/>|数据中心下数据存储域不是只有一个时，数据存储域是可以做维护激活等操作。|||
|54|虚拟机管理角色的验证，前提条件：使用用户*tangyan*登录管理门户。<br/><br/>1.  在OVIRT管理平台树形面板先点击【展开所有】（按键，在默认的数据中心下的默认集群，点击【虚拟机】，<br/>    在*虚拟机*项下将展现出所有的虚拟机。）<br/><br/>2.  选中虚拟机*Publican*,如果它正在运行，则尝试关闭它；如果它没有运行，则启动它，这些<br/>    均是可以成功的。<br/><br/>|用户*tangyan*可以正常关闭或启动虚拟机。|||
|55|虚拟机管理角色的验证，前提条件：使用用户*tangyan*登录管理门户。<br/><br/>1.  在OVIRT管理平台树形面板先点击【展开所有】（按键，在默认的数据中心下的默认集群，点击【虚拟机】，<br/>    在*虚拟机*项下将展现出所有的虚拟机。）<br/><br/>2.  选中其他任意虚拟机，如果它正在运行，则尝试关闭它；如果它没有运行，则启动它，这次OVIRT会弹出错误的消息<br/>    框：“没有授权用户执行这个动作。“这说明*tangyan*仅有操作虚拟机*Publican*<br/>    的权限，而对其它虚拟机则无效。<br/><br/>|用户不可操作其他的任何虚拟机。|||
|56|创建自定义角色<br/><br/>1.  在OVIRT管理门户的右上角，点击*配置*，在*配置*的对话框中，默认会列出所<br/>    有的用户和管理员角色，以及自定义的（如果有的话）<br/><br/>2.  点击*新建*，在弹出的对话框中输入和选择相应的信息。<br/><br/>    -   为新的角色命名及简要的描述信息。<br/><br/>    -   选择一个账户类型：用户或管理员。<br/><br/>    -   点击*展开所有*，查看所有的可以赋予权限的对象。<br/><br/>    -   针对每一个对象，根据你希望的角色选择可以进行的操作。<br/><br/>3.  点击*确认*，新的角色出现在角色的列表中。<br/><br/>|可以成功创建自定义角色。|||<br/>||1.  2.  3.  ||||<br/>||1.  2.  3.  ||||<br/>|...|...<br/><br/>...|...|||<br/><br/>> **Note**<br/>><br/>> 其他注意事项：

