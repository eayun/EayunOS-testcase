# 开启设置虚拟机维护的原因
| **编号** | **测试项** | **测试目的** | **测试步骤** | **预期结果** | **实际结果** | 
|--------- | ---------- | ------------ | ------------ | ------------ | ------------ |
| **0010015** | 在集群中勾选**启用设置虚拟机维护的理由**，关闭或断电虚拟机时有相应的提示。 | 验证客户端时候会在关闭主机或者将主机断电时，提示填写执行此动作的原因。 | 1. 选择**集群**选项卡。<br/>2. 点击**新建**按钮，会弹出**新建集群**弹出框。<br/>3. 选择相应的数据中心，填写集群**名称**并选择 **CPU 类型**。<br/>4. 勾选**启用设置虚拟机维护的理由**这个选项。<br/> 5. 点击**确定**。<br/>6. 选择**虚拟机**选项卡。<br/>7. 点击**新建虚拟机**按钮，会弹出**新建虚拟机**弹出框。<br/>8. 输入虚拟机名称，点击**确定**。此时会弹出**新建虚拟机-引导操作**弹出框，点击**配置虚拟磁盘**按钮。<br/>9. 此时会弹出**添加虚拟磁盘**弹出框，为磁盘输入**大小**，点击**确定**。<br/>10. 选择刚刚创建的虚拟机，点击代表**运行**的绿色按钮。<br/>11. 待该虚拟机成功开启后，右键单击该虚拟机选择**关闭**/**断电**，此时会弹出**关闭虚拟机**/**停止虚拟机**弹出框。 | 弹出框中确实有**理由**输入框。 |
| **0010016** | 在集群中勾选**启用设置虚拟机维护的理由**，关闭或断电虚拟机时向**理由**输入框输入特殊字符。 | 验证客户端会在关闭主机或者将主机断电时，提示填写执行此动作的原因。 | 1. 选择**集群**选项卡。<br/>2. 点击**新建**按钮，会弹出**新建集群**弹出框。<br/>3. 选择相应的数据中心，填写集群**名称**并选择 **CPU 类型**。<br/>4. 勾选**启用设置虚拟机维护的理由**这个选项。<br/> 5. 点击**确定**。<br/>6. 选择**虚拟机**选项卡。<br/>7. 点击**新建虚拟机**按钮，会弹出**新建虚拟机**弹出框。<br/>8. 输入虚拟机名称，点击**确定**。此时会弹出**新建虚拟机-引导操作**弹出框，点击**配置虚拟磁盘**按钮。<br/>9. 此时会弹出**添加虚拟磁盘**弹出框，为磁盘输入**大小**，点击**确定**。<br/>10. 选择刚刚创建的虚拟机，点击代表**运行**的绿色按钮。<br/>11. 待该虚拟机成功开启后，右键单击该虚拟机选择**关闭**/**断电**，此时会弹出**关闭虚拟机**/**停止虚拟机**弹出框。<br/>12. 在**理由**输入框中输入 ！@#￥%……&*（）——。<br/>13. 点击**确定**。 | 成功关闭/停止虚拟机。 |
| **0010017** | 在集群中勾选**启用设置虚拟机维护的理由**，但不在维护虚拟机的时候填写维护理由。 | 验证不填写**理由**的情况下，虚拟机可以照常关闭。 | 1. 选择**集群**选项卡。<br/>2. 点击**新建**按钮，会弹出**新建集群**弹出框。<br/>3. 选择相应的数据中心，填>写集群**名称**并选择 **CPU 类型**。<br/>4. 勾选**启用设置虚拟机维护的理由**这个选项。<br/> 5. 点击**确定**。<br/>6. 选择**虚拟机**选项卡。<br/>7. 点击**新建虚拟机**按钮，会弹出**新建虚拟机**弹出框。<br/>8. 输入虚拟机名称，点击**确定**。此时会弹出**新建虚拟机-引导操作**弹出框，点击**配置虚拟磁盘**按钮。<br/>9. 此时会弹出**添加虚拟磁盘**弹出框，为磁盘输入**大小**，点击**确定**。<br/>10. 选择刚刚创建的虚拟机，点击代表**运行**的绿色按钮。<br/>11. 待该虚拟机成功开启后，右键单击该虚拟机选择**关闭**/**断电**，此时会弹出**关闭虚拟机**/**停止虚拟机**弹出框。<br/>12. 直接点击**确定**。 | 虚拟机正常关机。 |
