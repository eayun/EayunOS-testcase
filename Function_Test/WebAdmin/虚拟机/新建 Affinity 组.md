# 新建 Affinity 组

| **用例编号** | **测试目的** | **测试步骤** | **预期结果** | **实际结果** | **备注** |
| ------------ | ------------ | ------------ | ------------ | ------------ | -------- |
| 0080900 | 验证【名称】输入框中只可包含字母 **'.'**，**'_'** 或 **'-'** 字符。 | 1. 点击【虚拟机】标签，选择一台虚拟机。<br/> 2. 在下面的子标签中选择 【Affinity 组】这个标签并点击【新建】按扭，会弹出【新建 Affinity 组】。<br/> 3. 在【名称】旁边的输入框中输入**关联组!@#$%^&*() ?><}{":**，点击**确定**。 | 【新建 Affinity】窗口没有关闭，且【名称】旁边的输入框变成红色，将鼠标移入输入框中，会显示 **名称只包含字母数字字符( UTF 支持的任何语言, 包括 RTL 语言), 数字, '.','_' 或 '-' 字符** | 与预期结果一致。 | |
| 0080901 | 验证【名称】输入框中只可包含 254 个字符。 | 1. 点击【虚拟机】标签，选择一台虚拟机。<br/> 2. 在下面的子标签中选择 【Affinity 组】这个标签并点击【新建】按扭，会弹出【新建 Affinity 组】。<br/> 3. 在【名称】旁边的输入框中输入 254 个字符，点击【确定】。 | 【新建 Affinity】窗口自动关闭，在关联组列表中存在刚刚创建的关联组。 | 会弹出【操作被取消】这个窗口并报错：Error while executing action AddAffinityGroup: Internal Engine Error。 | 见 https://github.com/eayun/ovirt-engine/issues/45 |
| 0080902 | 验证【描述】输入框中只可包含遵循了标准 ASCII 字符集的字母数字字符和特殊字符。 | 1. 点击【虚拟机】标签，选择一台虚拟机。<br/> 2. 在下面的子标签中选择 【Affinity 组】这个标签并点击【新建】按扭，会弹出【新建 Affinity 组】。<br/> 3. 在【描述】旁边的输入框中输入 **！@#￥%……&*（的の**，点击【确定】。 | 【新建 Affinity】窗口没有关>闭，且【名称】旁边的输入框变成红色，将鼠标移入输入框中，会显示 **只允许遵循了标准 ASCII 字符集的字母数字字符和特殊字符 | 与预期结果一致。如果输入的是英文输入法下的特殊字符（例如：**!@#$%^&**），是可以被接受的。 | |
| 0080903 | 验证同一个关联组下的虚拟机的【Affinity 组】子标签中都具有该关联组。 | 1. 点击【虚拟机】标签，选择一台虚拟机。<br/> 2. 在下面的子标签中选择 【Affinity 组】这个标签并点击【新建】按扭，会弹出【新建 Affinity 组】。<br/> 3. 输入响应的【名称】和【描述】后，勾选【Positive】来和其它的虚拟机进行关联 |  |
| 0080904 | 验证具有【Positive + Hard Enforcement】属性的关联组下的并且处于关闭状态的虚拟机在开启后会在同一台主机上运行。 |  |
| 0080905 | 验证具有【Positive + Soft Enforcement】属性的关联组下的并且处于关闭状态的虚拟机在开启后有可能不在同一台主机上运行。 |  | 
| 0080906 | 验证具有【Negative + Hard Enforcement】属性的关联组下的并且处于关闭状态的虚拟机在开启后一定不在同一台主机上运行。|  |
| 0080907 | 验证具有【Negative + Soft Enforcement】属性的关联组下的并且处于关闭状态的虚拟机在开启后有可能会在同一台主机上运行。|  |
