# 模板

|用例编号|测试目的|操作|预期结果|实际结果|备注|
|--------|--------|----|--------|--------|----|
|115     |创建模板（Windows、Linux）|<ol><li>在虚拟机列表下，选择指定的虚拟机</li><li>确认虚拟机状态为Down</li><li>点击Make Template打开New Template窗口</li><li>输入名称，描述等信息</li><li>选择Host Cluster</li><li>默认选中 Allow all users to access this Template</li><li>点击OK，创建模板</li></ol>|虚拟机状态由Image Locke-\>Down 在Template列表下显示创建的模板状态由Locked-\>OK|||
|116     |删除模板（默认的Blank 模板不允许删除）|<ol><li>在模板列表下选中待删除的模板</li><li>点击Remove打开Remove Template窗口</li><li>点击OK</li></ol>|模板被删除|||
|117     |导出模板（前提：已创建好Export存储域）|<ol><li>在模板列表下，选中待导出模板</li><li>点击Export，打开Export Template窗口，选择 ForceOverride</li><li>点击OK</li></ol>|模板导出到Export存储域|||
|118     |导入模板（已存在Export域）|<ol><li>在左侧树形面板下找到Export存储域</li><li>在详细面板下选择Export存储域内的Template</li><li>选中模板，点击Import，在Import template窗口内选择Destination Cluster和Storage</li><li>清除 Clone All Templates</li><li>点击OK</li></ol>|模板成功导入到数据存储中|||
|119     |导出到另一数据中心后的模板，创建虚拟机||虚拟机创建成功，虚拟机可以正常使用|||
|120     |批量导入导出模板||可以批量导入导出模板，导出的模板可以正常使用||批量导出时只能成功一个，其它失败|
|1|创建模板的子版本|<ul><li>前提：</li></ul><ol><li>已经创建好一个linux的模板</li><li>已经有一台基于该模板创建的虚拟机</li></ol><ul><li>操作：</li></ul><ol><li>打开该虚拟机，安装一个软件如vim</li><li>安装完毕后关闭虚拟机</li><li>点击菜单中的【创建模板】按键或右键选择【创建模板】</li><li>在打开的【创建模板】窗口中，勾选【创建为子模板】，选择根模板为当前虚拟机所使用的模板，输入模板名称，其他保持默认配置</li><li>点击【确定】</li></ol>|<ol><li>模板创建成功</li><li>该模板继承了根模板，并且安装了vim</li></ol>|||
|2|使用模板的某个子版本|<ol><li>点击【池】选项卡，点击菜单中的【新建】按键</li><li>在打开的【新建池】窗口中，【基于模板】选择模板的根模板，【模板子版本】选择要用的模板的某个子版本</li><li>输入池名称、描述和注释</li><li>设置虚拟机的数量、每个用户的最大虚拟机数</li><li>其他选项保持默认配置，点击【确定】</li></ol>|<ol><li>虚拟机池创建成功</li><li>虚拟机池中的虚拟机是基于模板的子版本的</li></ol>|||
|3|使用模板的最新子版本|<ol><li>点击【池】选项卡，点击菜单中的【新建】按键</li><li>在打开的【新建池】窗口中，【基于模板】选择模板的根模板，【模板子版本】选择【最新的】</li><li>输入池名称、描述和注释</li><li>设置虚拟机的数量、每个用户的最大虚拟机数</li><li>其他选项保持默认配置，点击【确定】</li><li>点击运行池的其中一台虚拟机，在该虚拟机上安装vim（原本没有安装vim）</li><li>关闭这台虚拟机，点击【创建模板】，创建子模板（过程可参考以上测试）</li><li>模板创建完毕后，启动池中的另一台虚拟机，观察该虚拟机的情况</li></ol>|<ol><li>打开池中另一台虚拟机的控制台，看到该虚拟机中已经安装了vim</li></ol>||如果选择【最新的】每次启动虚拟机，都会自动启用最新版本的模板|
