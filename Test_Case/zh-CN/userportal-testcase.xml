<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
    "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
    <!ENTITY % BOOK_ENTITIES SYSTEM "Test_Case.ent">
    %BOOK_ENTITIES;
]>

<section>
    <title>用户门户测试</title>
    <informaltable  frame='all'>	
        <tgroup cols='8' align='left' colsep='1' rowsep='1'>
            <colspec colname='c1'/>
            <colspec colname='c2'/>
            <colspec colname='c3'/>
            <colspec colname='c4'/>
            <colspec colname='c5'/>
            <colspec colname='c6'/>
            <colspec colname='c7'/>
            <colspec colname='c8'/>
            <tbody>
                <row>
                    <entry>项目编号</entry>
                    <entry></entry>
                    <entry>项目名称</entry>
                    <entry></entry>
                    <entry>测试日期</entry>
                    <entry></entry>		
                    <entry>测试人员</entry>		
                    <entry></entry>
                </row>
                <row>
                    <entry>测试用例编号</entry>
                    <entry>TEST-0001</entry>
                    <entry>测试用例名称</entry>
                    <entry>用户门户</entry>
                    <entry>作者</entry>
                    <entry>阎颖</entry>
                </row>
                <row>
                    <entry>测试用例描述(方法和目的)</entry>
                    <entry namest="c2" nameend="c8">
                        <para></para>
                        <para></para>
                    </entry>
                </row>
                <row>
                    <entry>测试环境设置</entry>
                    <entry namest="c2" nameend="c8">
                        <para></para>
                    </entry>
                </row>
            </tbody>
        </tgroup>
    </informaltable>

    <bridgehead>测试步骤</bridgehead>

    <section>
        <title>
            登录/登出
        </title>

        <informaltable  frame='topbot'>
            <tgroup cols='5' align='left' colsep='1' rowsep='1'>
                <colspec colname='c1' colwidth='5*'/>
                <colspec colname='c2' colwidth='20*'/>
                <colspec colname='c3' colwidth='10*'/>
                <colspec colname='c4' colwidth='5*'/>
                <colspec colname='c5' colwidth='10*'/>
                <thead>
                    <row>
                        <entry>用例编号</entry>
                        <entry>操作</entry>
                        <entry>预期结果</entry>
                        <entry>实际结果</entry>
                        <entry>备注</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>1</entry>
                        <entry>
                            <orderedlist numeration="arabic">
                                <listitem>
                                    <para>
                                        浏览器中输入engine地址，打开网页，点击
                                        User Portal
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        在弹出登录框中输入用户名、密码、在Domain
                                        下拉菜单上选择用户对应的正确的domain
                                        （如admin -> ）
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        若该用户下只有一个虚拟机选中
                                        “Connect Automatically”
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        点击Login。
                                    </para>
                                </listitem>
                            </orderedlist>
                        </entry>
                        <entry>
                            <para>
                                弹出打开虚拟机的窗口，点击打开直接连接该虚拟机
                            </para>
                        </entry>
                        <entry>
                            <para>OK</para>
                        </entry>
                        <entry>
                            <para>

                            </para>
                        </entry>
                    </row>
                    <row>
                        <entry>2</entry>
                        <entry>
                            <orderedlist numeration="arabic">
                                <listitem>
                                    <para>
                                        浏览器中输入engine地址，打开网页，点击
                                        User Portal
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        在弹出登录框中输入用户名、密码、在Domain
                                        下拉菜单上选择用户对应的正确的domain
                                        （如admin -> ）
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        若该用户下有虚拟机数量大于1选中
                                        “Connect Automatically”
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        点击Login。
                                    </para>
                                </listitem>
                            </orderedlist>
                        </entry>
                        <entry>
                            <para>
                                进入系统，并没有直接连接某个虚拟机
                            </para>
                        </entry>
                        <entry>
                            <para>OK</para>
                        </entry>
                        <entry>
                            <para>

                            </para>
                        </entry>
                    </row>
                    <row>
                        <entry>3</entry>
                        <entry>
                            <orderedlist numeration="arabic">
                                <listitem>
                                    <para>
                                        浏览器中输入engine地址，打开网页，点击
                                        User Portal
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        在弹出登录框中输入用户名、密码、在Domain
                                        下拉菜单上选择用户对应的正确的domain
                                        （如admin -> ）
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        若该用户下有虚拟机数量大于1，不选中
                                        “Connect Automatically”
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        点击Login。
                                    </para>
                                </listitem>
                            </orderedlist>
                        </entry>
                        <entry>
                            <para>
                                进入系统，并没有直接连接某个虚拟机
                            </para>
                        </entry>
                        <entry>
                            <para>OK</para>
                        </entry>
                        <entry>
                            <para>

                            </para>
                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </informaltable>
    </section>

    <section>
        <title>
            中英文切换
        </title>

        <informaltable  frame='topbot'>
            <tgroup cols='5' align='left' colsep='1' rowsep='1'>
                <colspec colname='c1' colwidth='5*'/>
                <colspec colname='c2' colwidth='20*'/>
                <colspec colname='c3' colwidth='10*'/>
                <colspec colname='c4' colwidth='5*'/>
                <colspec colname='c5' colwidth='10*'/>
                <thead>
                    <row>
                        <entry>用例编号</entry>
                        <entry>操作</entry>
                        <entry>预期结果</entry>
                        <entry>实际结果</entry>
                        <entry>备注</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>4</entry>
                        <entry>
                            <para>
                                浏览器中输入engine地址，打开网页，选择页面下语言
                                切换下拉菜单，选择英文，登录
                            </para>
                        </entry>
                        <entry>
                            <para>
                                进入系统应为英文环境
                            </para>
                        </entry>
                        <entry>
                        </entry>
                        <entry>
                        </entry>
                    </row>
                    <row>
                        <entry>5</entry>
                        <entry>
                            <para>
                                浏览器中输入engine地址，打开网页，选择页面下语
                                言切换下拉菜单，选择中文，登录
                            </para>
                        </entry>
                        <entry>
                            <para>
                                进入系统应为中文环境
                            </para>
                        </entry>
                        <entry>
                        </entry>
                        <entry>
                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </informaltable>
    </section>

    <section>
        <title>
            安装SPICE客户端
        </title>

        <informaltable  frame='topbot'>
            <tgroup cols='5' align='left' colsep='1' rowsep='1'>
                <colspec colname='c1' colwidth='5*'/>
                <colspec colname='c2' colwidth='20*'/>
                <colspec colname='c3' colwidth='10*'/>
                <colspec colname='c4' colwidth='5*'/>
                <colspec colname='c5' colwidth='10*'/>
                <thead>
                    <row>
                        <entry>用例编号</entry>
                        <entry>操作</entry>
                        <entry>预期结果</entry>
                        <entry>实际结果</entry>
                        <entry>备注</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>6</entry>
                        <entry>
                            <orderedlist numeration="arabic">
                                <title>
                                    Linux Firefox 安装SPICE
                                </title>
                                <listitem>
                                    <para>
                                        yum install spice-xpi
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        rpm -q virt-viewer
                                        (输出：
                                        virt-viewer-0.5.2-18.e16_4.2.x86_64)
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        yum install virt-viewer
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Restart Firefox
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        使用SPICE连接虚拟机
                                    </para>
                                </listitem>
                            </orderedlist>
                        </entry>
                        <entry>
                            <para>
                                可以使用SPICE访问虚拟机
                            </para>
                        </entry>
                        <entry>
                        </entry>
                        <entry>
                        </entry>
                    </row>
                    <row>
                        <entry>7</entry>
                        <entry>
                            <orderedlist numeration="arabic">
                                <title>
                                    Windows IE 安装SPICE
                                </title>
                                <listitem>
                                    <para>
                                        安装remote-viewer
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Restart IE 
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        使用SPICE
                                    </para>
                                </listitem>
                            </orderedlist>
                        </entry>
                        <entry>
                            <para>
                                可以使用SPICE访问虚拟机
                            </para>
                        </entry>
                        <entry>
                        </entry>
                        <entry>
                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </informaltable>
    </section>

    <section>
        <title>
            用户界面
        </title>

        <informaltable  frame='topbot'>
            <tgroup cols='5' align='left' colsep='1' rowsep='1'>
                <colspec colname='c1' colwidth='5*'/>
                <colspec colname='c2' colwidth='20*'/>
                <colspec colname='c3' colwidth='10*'/>
                <colspec colname='c4' colwidth='5*'/>
                <colspec colname='c5' colwidth='10*'/>
                <thead>
                    <row>
                        <entry>用例编号</entry>
                        <entry>操作</entry>
                        <entry>预期结果</entry>
                        <entry>实际结果</entry>
                        <entry>备注</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>8</entry>
                        <entry>
                            <orderedlist numeration="arabic">
                                <listitem>
                                    <para>
                                        UserPortal登录系统，系统显示分配给该用户
                                        的所有虚拟机
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        显示虚拟机的类型和状态
                                    </para>
                                </listitem>
                            </orderedlist>
                        </entry>
                        <entry>
                            <para>
                                界面显示正确
                            </para>
                        </entry>
                        <entry>
                        </entry>
                        <entry>
                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </informaltable>
    </section>

    <section>
        <title>
            虚拟机相关
        </title>

        <informaltable  frame='topbot'>
            <tgroup cols='5' align='left' colsep='1' rowsep='1'>
                <colspec colname='c1' colwidth='5*'/>
                <colspec colname='c2' colwidth='20*'/>
                <colspec colname='c3' colwidth='10*'/>
                <colspec colname='c4' colwidth='5*'/>
                <colspec colname='c5' colwidth='10*'/>
                <thead>
                    <row>
                        <entry>用例编号</entry>
                        <entry>操作</entry>
                        <entry>预期结果</entry>
                        <entry>实际结果</entry>
                        <entry>备注</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>9</entry>
                        <entry>
                            <para>
                                选择一个单独虚拟机（非虚拟机池内的），点击
                                “运行”绿色箭头按钮，运行虚拟机
                            </para>
                        </entry>
                        <entry>
                            <para>
                                虚拟机运行起来，显示红色向下箭头，虚拟机启动完成后（Machine is Ready）
                            </para>
                        </entry>
                        <entry>
                            <para>
                                OK
                            </para>
                        </entry>
                        <entry>
                        </entry>
                    </row>
                    <row>
                        <entry>10</entry>
                        <entry>
                            <para>
                                <orderedlist numeration="arabic">
                                    <listitem>
                                        <para>
                                            选择虚拟机池点击“run”绿色箭头
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            分配了一个虚拟机并开启该虚拟机，虚拟机
                                            Powering up（电源 正在启动)
                                        </para>
                                    </listitem>
                                </orderedlist>
                            </para>
                        </entry>
                        <entry>
                            <para>
                                虚拟机运行起来，虚拟机启动完成后（Machine is Ready）
                            </para>
                        </entry>
                        <entry>
                            <para>
                                OK
                            </para>
                        </entry>
                        <entry>
                        </entry>
                    </row>
                    <row>
                        <entry>11</entry>
                        <entry>
                            <para>
                                鼠标移至运行的虚拟机(Machine is Ready),显示“双击控制台”，双击虚拟机
                            </para>
                        </entry>
                        <entry>
                            <para>
                                连接进入虚拟机
                            </para>
                        </entry>
                        <entry>
                            <para>
                                OK
                            </para>
                        </entry>
                    </row>
                    <row>
                        <entry>12</entry>
                        <entry>
                            <para>
                                选择运行的虚拟机(非虚拟机池分配的虚拟机)，点击红色向下箭头，关闭虚拟机
                            </para>
                        </entry>
                        <entry>
                            <para>
                                虚拟机关闭，显示绿色向上箭头
                            </para>
                        </entry>
                        <entry>
                            <para>
                                OK
                            </para>
                        </entry>
                        <entry>
                        </entry>
                    </row>
                    <row>
                        <entry>13</entry>
                        <entry>
                            <para>
                                选择运行的虚拟机（虚拟机池分配的虚拟机），点击红色向下箭头，关闭虚拟机
                            </para>
                        </entry>
                        <entry>
                            <para>
                                虚拟机关闭后，虚拟机被释放，在UserPortal登录的系统中消失
                            </para>
                        </entry>
                        <entry>
                            <para>
                                OK
                            </para>
                        </entry>
                        <entry>
                        </entry>
                    </row>
                    <row>
                        <entry>14</entry>
                        <entry>
                            <para>
                                选择运行的虚拟机（虚拟机池分配的虚拟机），双击虚拟机进入虚拟机内，在虚拟机内进行操作如：创建文件等
                            </para>
                            <para>
                                关闭虚拟机，虚拟机被释放
                            </para>
                            <para>
                                重新分配该虚拟机或进入管理系统，连接该虚拟机，检查之前的操作是否被销毁
                            </para>
                        </entry>
                        <entry>
                            <para>
                                操作已销毁
                            </para>
                        </entry>
                        <entry>
                            <para>OK</para>
                        </entry>
                        <entry>
                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </informaltable>

        <note>
            <para>
                其他注意事项：
            </para>
        </note>
    </section>
</section>
